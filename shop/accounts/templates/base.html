{% load static %}
<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>{% block title %}My Finance App{% endblock %}</title>
  <link rel="stylesheet" href="{% static 'css/dashboard.css' %}">  {# optional external CSS #}
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Tangerine:wght@400;700&display=swap');
    /* small inline styles to match your PHP header */
    header {
      background: rgba(255, 255, 255, 0.08);
      backdrop-filter: blur(12px);
      flex-direction: row;
      -webkit-backdrop-filter: blur(12px);
      color: rgb(255, 255, 255);
      padding: 15px 20px;
      display:flex;
      justify-content:space-between;
      align-items:stretch;
      position:fixed;
      top:0;
      width:100%;
      z-index:999;
      border-bottom:1px solid rgba(255,255,255,0.12);
    }
    header nav{
      display: flex;
      flex-direction: row;
    }

    header nav a:hover{
      transform: translateY(-5px);
    
    }

      body { padding-top:80px; background: url('https://oboloo.com/wp-content/uploads/2024/12/Demystifying-Business-Expenses-What-You-Need-to-Know.jpeg') no-repeat center center fixed; background-size:cover; }
    .avatar { width:42px; height:42px; border-radius:50%; object-fit:cover; margin-left:10px; }
    a.nav-link { color: white; text-decoration:none; margin:0 12px; font-weight: bold; font-size: 30px; font-family: "Tangerine", cursive; }

    a.nav-link.active {
  color: #ffd700 !important;   /* gold highlight */
  text-decoration: underline;
  transform: none;             /* disable hover jump if active */
}
    
  </style>
</head>
<body>
  <header>
     <div style="font-size:20px; font-weight:bold;">üí∞ My Finance App</div>
    <nav>
      <a class="nav-link" href="{% url 'dashboard' %}">üè† Dashboard</a>
      <a class="nav-link" href="{% url 'expenses' %}">üí∏ Expenses</a>
      <a class="nav-link" href="{% url 'income' %}">üì• Income</a>
      <a class="nav-link" href="{% url 'activity' %}">üìä Activity</a>
      <a class="nav-link" href="{% url 'about' %}">‚ÑπÔ∏è About</a>
    </nav>

        <div class="d-flex align-items-center">
  {% if user.is_authenticated %}
    <div class="dropdown">
      <a class="nav-link dropdown-toggle d-flex align-items-center"
         href="#" id="profileMenu" role="button"
         data-bs-toggle="dropdown" aria-expanded="false"
         style="color:#fff;">
        <img class="avatar me-2"
             src="{% if profile and profile.avatar %}{{ profile.avatar.url }}{% else %}{% static 'img/default-avatar.png' %}{% endif %}"
             alt="avatar">
        <span style="font-weight:600; margin-left:10px; text-decoration: none;font-family:Arial; font-size: 20px;" >
          {{ user.username|capfirst }}
        </span>
      </a>

      <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="profileMenu">
        <li class="dropdown-header" style="font-size:.9rem;">
          Signed in as <strong>{{ user.username }}</strong><br>
          Role: <strong>{{ role|capfirst }}</strong>
        </li>
        <li><hr class="dropdown-divider"></li>

        {% if profile and profile.role == 'owner' %}
          <li><a class="dropdown-item" href="{% url 'owner_dashboard' %}">Owner Dashboard</a></li>
        {% else %}
          <li><a class="dropdown-item" href="{% url 'staff_dashboard' %}">Staff Dashboard</a></li>
        {% endif %}

        <li><a class="dropdown-item" href="{% url 'activity' %}">Activity</a></li>
        <li><hr class="dropdown-divider"></li>
        <li><a class="dropdown-item text-danger" href="{% url 'logout' %}">Logout</a></li>
      </ul>
    </div>
  {% else %}
    <a class="nav-link" href="{% url 'login' %}">Login</a>
  {% endif %}
</div>

  </header>

  <main class="container my-4">
    {% block content %}{% endblock %}
  </main>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"></script>
  <footer style="position:fixed; bottom:0; width:100%; height:48px; display:flex; align-items:center; padding-left:18px; color:white;">
    &copy; 2025 Alpha Infotech & Design
  </footer>
</body>
</html>
